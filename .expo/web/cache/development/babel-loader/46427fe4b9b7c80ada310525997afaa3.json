{"ast":null,"code":"'use strict';\n\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport useColorScheme from \"react-native-web/dist/exports/useColorScheme\";\nimport { SegmentedControlTab } from \"./SegmentedControlTab\";\nimport { SegmentsSeparators } from \"./SegmentsSeparators\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar SegmentedControl = function SegmentedControl(_ref) {\n  var style = _ref.style,\n      onChange = _ref.onChange,\n      onValueChange = _ref.onValueChange,\n      _ref$enabled = _ref.enabled,\n      enabled = _ref$enabled === void 0 ? true : _ref$enabled,\n      selectedIndex = _ref.selectedIndex,\n      values = _ref.values,\n      tintColor = _ref.tintColor,\n      backgroundColor = _ref.backgroundColor,\n      tabStyle = _ref.tabStyle,\n      fontStyle = _ref.fontStyle,\n      activeFontStyle = _ref.activeFontStyle,\n      appearance = _ref.appearance;\n  var colorSchemeHook = useColorScheme();\n  var colorScheme = appearance || colorSchemeHook;\n\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      segmentWidth = _React$useState2[0],\n      setSegmentWidth = _React$useState2[1];\n\n  var animation = React.useRef(new Animated.Value(0)).current;\n\n  var handleChange = function handleChange(index) {\n    var event = {\n      nativeEvent: {\n        value: values[index],\n        selectedSegmentIndex: index\n      }\n    };\n    onChange && onChange(event);\n    onValueChange && onValueChange(values[index]);\n  };\n\n  React.useEffect(function () {\n    if (animation && segmentWidth) {\n      var isRTL = I18nManager.isRTL ? -segmentWidth : segmentWidth;\n      Animated.timing(animation, {\n        toValue: isRTL * (selectedIndex || 0),\n        duration: 300,\n        easing: Easing.out(Easing.quad),\n        useNativeDriver: true\n      }).start();\n    }\n  }, [animation, segmentWidth, selectedIndex]);\n  return _jsxs(View, {\n    style: [styles.default, style, colorScheme === 'dark' && styles.darkControl, backgroundColor && {\n      backgroundColor: backgroundColor\n    }, !enabled && styles.disabled],\n    onLayout: function onLayout(_ref2) {\n      var width = _ref2.nativeEvent.layout.width;\n      var newSegmentWidth = values.length ? width / values.length : 0;\n\n      if (newSegmentWidth !== segmentWidth) {\n        animation.setValue(newSegmentWidth * (selectedIndex || 0));\n        setSegmentWidth(newSegmentWidth);\n      }\n    },\n    children: [!backgroundColor && !tintColor && _jsx(SegmentsSeparators, {\n      values: values.length,\n      selectedIndex: selectedIndex\n    }), _jsx(View, {\n      style: styles.segmentsContainer,\n      children: values && values.map(function (value, index) {\n        return _jsx(SegmentedControlTab, {\n          enabled: enabled,\n          selected: selectedIndex === index,\n          value: value,\n          tintColor: tintColor,\n          tabStyle: tabStyle,\n          fontStyle: fontStyle,\n          activeFontStyle: activeFontStyle,\n          appearance: colorScheme,\n          onSelect: function onSelect() {\n            handleChange(index);\n          }\n        }, index);\n      })\n    }), selectedIndex != null && segmentWidth ? _jsx(Animated.View, {\n      style: [styles.slider, {\n        transform: [{\n          translateX: animation\n        }],\n        width: segmentWidth - 4,\n        backgroundColor: tintColor || (colorScheme === 'dark' ? '#636366' : 'white')\n      }]\n    }) : null]\n  });\n};\n\nvar styles = StyleSheet.create({\n  default: {\n    overflow: 'hidden',\n    position: 'relative',\n    height: 32,\n    backgroundColor: '#EEEEF0',\n    borderRadius: 9\n  },\n  darkControl: {\n    backgroundColor: '#1C1C1F'\n  },\n  disabled: {\n    opacity: 0.4\n  },\n  slider: {\n    position: 'absolute',\n    borderRadius: 7,\n    top: 2,\n    bottom: 2,\n    right: 2,\n    left: 2,\n    borderWidth: 0.5,\n    borderColor: 'rgba(0,0,0,0.04)',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.22,\n    shadowRadius: 2.22,\n    elevation: 3\n  },\n  segmentsContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-evenly',\n    alignItems: 'center',\n    elevation: 5,\n    backgroundColor: 'transparent',\n    zIndex: 99\n  }\n});\nexport default SegmentedControl;","map":{"version":3,"sources":["/Users/nginx-iwnl/messages/node_modules/@react-native-segmented-control/segmented-control/js/SegmentedControl.js"],"names":["React","SegmentedControlTab","SegmentsSeparators","SegmentedControl","style","onChange","onValueChange","enabled","selectedIndex","values","tintColor","backgroundColor","tabStyle","fontStyle","activeFontStyle","appearance","colorSchemeHook","useColorScheme","colorScheme","useState","segmentWidth","setSegmentWidth","animation","useRef","Animated","Value","current","handleChange","index","event","nativeEvent","value","selectedSegmentIndex","useEffect","isRTL","I18nManager","timing","toValue","duration","easing","Easing","out","quad","useNativeDriver","start","styles","default","darkControl","disabled","width","layout","newSegmentWidth","length","setValue","segmentsContainer","map","slider","transform","translateX","StyleSheet","create","overflow","position","height","borderRadius","opacity","top","bottom","right","left","borderWidth","borderColor","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","flex","flexDirection","justifyContent","alignItems","zIndex"],"mappings":"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","sourcesContent":["/**\n * @flow\n */\n\n'use strict';\n\nimport * as React from 'react';\n\nimport {\n  Animated,\n  Easing,\n  I18nManager,\n  StyleSheet,\n  View,\n  useColorScheme,\n} from 'react-native';\n\nimport type {SegmentedControlProps} from './types';\nimport {SegmentedControlTab} from './SegmentedControlTab';\nimport {SegmentsSeparators} from './SegmentsSeparators';\n\n/**\n * SegmentedControl\n * iOS 13 Style UISegmentedControl Component for Android and Web\n */\nconst SegmentedControl = ({\n  style,\n  onChange,\n  onValueChange,\n  enabled = true,\n  selectedIndex,\n  values,\n  tintColor,\n  backgroundColor,\n  tabStyle,\n  fontStyle,\n  activeFontStyle,\n  appearance,\n}: SegmentedControlProps): React.Node => {\n  const colorSchemeHook = useColorScheme();\n  const colorScheme = appearance || colorSchemeHook;\n  const [segmentWidth, setSegmentWidth] = React.useState(0);\n  const animation = React.useRef(new Animated.Value(0)).current;\n\n  const handleChange = (index: number) => {\n    // mocks iOS's nativeEvent\n    const event: any = {\n      nativeEvent: {\n        value: values[index],\n        selectedSegmentIndex: index,\n      },\n    };\n    onChange && onChange(event);\n    onValueChange && onValueChange(values[index]);\n  };\n\n  React.useEffect(() => {\n    if (animation && segmentWidth) {\n      let isRTL = I18nManager.isRTL ? -segmentWidth : segmentWidth;\n      Animated.timing(animation, {\n        toValue: isRTL * (selectedIndex || 0),\n        duration: 300,\n        easing: Easing.out(Easing.quad),\n        useNativeDriver: true,\n      }).start();\n    }\n  }, [animation, segmentWidth, selectedIndex]);\n\n  return (\n    <View\n      style={[\n        styles.default,\n        style,\n        colorScheme === 'dark' && styles.darkControl,\n        backgroundColor && {backgroundColor},\n        !enabled && styles.disabled,\n      ]}\n      onLayout={({\n        nativeEvent: {\n          layout: {width},\n        },\n      }) => {\n        const newSegmentWidth = values.length ? width / values.length : 0;\n        if (newSegmentWidth !== segmentWidth) {\n          animation.setValue(newSegmentWidth * (selectedIndex || 0));\n          setSegmentWidth(newSegmentWidth);\n        }\n      }}>\n      {!backgroundColor && !tintColor && (\n        <SegmentsSeparators\n          values={values.length}\n          selectedIndex={selectedIndex}\n        />\n      )}\n      <View style={styles.segmentsContainer}>\n        {values &&\n          values.map((value, index) => {\n            return (\n              <SegmentedControlTab\n                enabled={enabled}\n                selected={selectedIndex === index}\n                key={index}\n                value={value}\n                tintColor={tintColor}\n                tabStyle={tabStyle}\n                fontStyle={fontStyle}\n                activeFontStyle={activeFontStyle}\n                appearance={colorScheme}\n                onSelect={() => {\n                  handleChange(index);\n                }}\n              />\n            );\n          })}\n      </View>\n      {selectedIndex != null && segmentWidth ? (\n        <Animated.View\n          style={[\n            styles.slider,\n            {\n              transform: [{translateX: animation}],\n              width: segmentWidth - 4,\n              backgroundColor:\n                tintColor || (colorScheme === 'dark' ? '#636366' : 'white'),\n            },\n          ]}\n        />\n      ) : null}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  default: {\n    overflow: 'hidden',\n    position: 'relative',\n    height: 32,\n    backgroundColor: '#EEEEF0',\n    borderRadius: 9,\n  },\n  darkControl: {\n    backgroundColor: '#1C1C1F',\n  },\n  disabled: {\n    opacity: 0.4,\n  },\n  slider: {\n    position: 'absolute',\n    borderRadius: 7,\n    top: 2,\n    bottom: 2,\n    right: 2,\n    left: 2,\n    borderWidth: 0.5,\n    borderColor: 'rgba(0,0,0,0.04)',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1,\n    },\n    shadowOpacity: 0.22,\n    shadowRadius: 2.22,\n    elevation: 3,\n  },\n  segmentsContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-evenly',\n    alignItems: 'center',\n    elevation: 5,\n    backgroundColor: 'transparent',\n    zIndex: 99,\n  },\n});\n\nexport default SegmentedControl;\n"]},"metadata":{},"sourceType":"module"}