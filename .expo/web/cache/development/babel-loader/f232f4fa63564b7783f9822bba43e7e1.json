{"ast":null,"code":"export default (function (timestamp) {\n  var now = +new Date();\n  var minute = 60 * 1000;\n  var hour = 60 * minute;\n  var day = 24 * hour;\n  var week = 7 * day;\n  var diff = now - timestamp;\n  var diffDays = Math.floor(diff / (1000 * 60 * 60 * 24));\n  var diffHours = Math.floor(diff / (1000 * 60 * 60));\n  var diffMinutes = Math.floor(diff / (1000 * 60));\n  var date_ts = new Date(timestamp);\n  var date_day = date_ts.getDate();\n  var date_month = date_ts.getMonth() + 1;\n  var date_year = date_ts.getFullYear();\n  var date = date_day + \"-\" + date_month + \"-\" + date_year;\n\n  if (diff < minute) {\n    return \"Now\";\n  } else if (diffMinutes < 60) {\n    if (diffMinutes == 1) {\n      return diffMinutes + \" minute ago\";\n    } else {\n      return diffMinutes + \" minutes ago\";\n    }\n  } else if (diffHours < 24) {\n    if (diffHours == 1) {\n      return diffHours + \" hour ago\";\n    } else {\n      return diffHours + \" hours ago\";\n    }\n  } else if (diffDays < 7) {\n    if (diffDays == 1) {\n      return diffDays + \" day ago\";\n    } else {\n      return diffDays + \" days ago\";\n    }\n  } else {\n    return date;\n  }\n});","map":{"version":3,"sources":["/Users/nginx-iwnl/messages/src/functions/timestampToDate.ts"],"names":["timestamp","now","Date","minute","hour","day","week","diff","diffDays","Math","floor","diffHours","diffMinutes","date_ts","date_day","getDate","date_month","getMonth","date_year","getFullYear","date"],"mappings":"AAAA,gBAAe,UAACA,SAAD,EAAsB;AACjC,MAAMC,GAAG,GAAG,CAAC,IAAIC,IAAJ,EAAb;AACA,MAAMC,MAAM,GAAG,KAAK,IAApB;AACA,MAAMC,IAAI,GAAG,KAAKD,MAAlB;AACA,MAAME,GAAG,GAAG,KAAKD,IAAjB;AACA,MAAME,IAAI,GAAG,IAAID,GAAjB;AAIA,MAAME,IAAI,GAAGN,GAAG,GAAGD,SAAnB;AAEA,MAAMQ,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWH,IAAI,IAAI,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAArB,CAAf,CAAjB;AACA,MAAMI,SAAS,GAAGF,IAAI,CAACC,KAAL,CAAWH,IAAI,IAAI,OAAO,EAAP,GAAY,EAAhB,CAAf,CAAlB;AACA,MAAMK,WAAW,GAAGH,IAAI,CAACC,KAAL,CAAWH,IAAI,IAAI,OAAO,EAAX,CAAf,CAApB;AAIA,MAAMM,OAAO,GAAG,IAAIX,IAAJ,CAASF,SAAT,CAAhB;AACA,MAAMc,QAAQ,GAAGD,OAAO,CAACE,OAAR,EAAjB;AACA,MAAMC,UAAU,GAAGH,OAAO,CAACI,QAAR,KAAqB,CAAxC;AACA,MAAMC,SAAS,GAAGL,OAAO,CAACM,WAAR,EAAlB;AACA,MAAMC,IAAI,GAAGN,QAAQ,GAAG,GAAX,GAAiBE,UAAjB,GAA8B,GAA9B,GAAoCE,SAAjD;;AAGA,MAAGX,IAAI,GAAGJ,MAAV,EAAiB;AACb,WAAO,KAAP;AACH,GAFD,MAEO,IAAGS,WAAW,GAAG,EAAjB,EAAoB;AACvB,QAAGA,WAAW,IAAI,CAAlB,EAAoB;AAChB,aAAOA,WAAW,GAAG,aAArB;AACH,KAFD,MAEO;AACH,aAAOA,WAAW,GAAG,cAArB;AACH;AACJ,GANM,MAMA,IAAGD,SAAS,GAAG,EAAf,EAAkB;AACrB,QAAGA,SAAS,IAAI,CAAhB,EAAkB;AACd,aAAOA,SAAS,GAAG,WAAnB;AACH,KAFD,MAEO;AACH,aAAOA,SAAS,GAAG,YAAnB;AACH;AACJ,GANM,MAMA,IAAGH,QAAQ,GAAG,CAAd,EAAgB;AACnB,QAAGA,QAAQ,IAAI,CAAf,EAAiB;AACb,aAAOA,QAAQ,GAAG,UAAlB;AACH,KAFD,MAEO;AACH,aAAOA,QAAQ,GAAG,WAAlB;AACH;AACJ,GANM,MAMA;AACH,WAAOY,IAAP;AACH;AACJ,CA/CD","sourcesContent":["export default (timestamp:number) => {\n    const now = +new Date();\n    const minute = 60 * 1000; // 60 * 1000\n    const hour = 60 * minute;\n    const day = 24 * hour;\n    const week = 7 * day;\n\n    \n    // Calculate differences in time\n    const diff = now - timestamp\n    \n    const diffDays = Math.floor(diff / (1000 * 60 * 60 * 24));\n    const diffHours = Math.floor(diff / (1000 * 60 * 60)); // % 24\n    const diffMinutes = Math.floor(diff / (1000 * 60)); // % 60\n\n    // Get date in format DD/MM-YYYY\n    // Used for: Dates older than a week\n    const date_ts = new Date(timestamp);\n    const date_day = date_ts.getDate();\n    const date_month = date_ts.getMonth() + 1;\n    const date_year = date_ts.getFullYear();\n    const date = date_day + \"-\" + date_month + \"-\" + date_year\n\n    // Check how to output time\n    if(diff < minute){ // Check if within last minute\n        return \"Now\"\n    } else if(diffMinutes < 60){ // Check if within last hour\n        if(diffMinutes == 1){\n            return diffMinutes + \" minute ago\"\n        } else {\n            return diffMinutes + \" minutes ago\"\n        }\n    } else if(diffHours < 24){ // Check if within last day\n        if(diffHours == 1){\n            return diffHours + \" hour ago\"\n        } else {\n            return diffHours + \" hours ago\"\n        }\n    } else if(diffDays < 7){ // Check if within last week\n        if(diffDays == 1){\n            return diffDays + \" day ago\"\n        } else {\n            return diffDays + \" days ago\"\n        }\n    } else { // Else, return date\n        return date;\n    }\n}"]},"metadata":{},"sourceType":"module"}